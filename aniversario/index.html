<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Aniversario</title>
        <link rel="stylesheet" href="css/styles.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    </head>
    <body class="body">
        <div id="navbar" class="title text-center" >
            <h1 id="titulo"></h1>

        </div>
        <div class="grid-1 content" id="content">
            <!--INTRODUCCIÓN-->
            <div id="Inicio" class="contenido container " >
                <h3>Feliz Aniversario Mi Amor ❤️</h3>
                <hr class="linea-separadora">
                <div class="container">
                    <p class="text-justify">
                    Hola mi amor, no sé ni como empezar esto la vdd jsjs, pero para mí se siente
                        como si estuviera haciendo una carta jaja, así que escribiré todo de igual manera
                        que cuando escribo una carta y eso es que solo escribo lo que pienso jsjs.<br/>
                        Bueno, esta vez quise darte esta sorpresa que no es una sorpresa normal, sino 
                        que hoy quiero jugar un juego muajaja 😈 <br/><br/>
                        Ya bien, te quería dar un regalo con el cual pudiera expresarte todo lo que siento,
                        todo lo que pienso, todo lo que quiero, en si un regalo con el cual te pudiera expresar todo
                        lo que te amo, lo cual es francamente imposible pero creo esta es la mejor manera
                        para mí de llegar a expresarte lo que quiero.<br/>
                        Y bueno este jueguito es un juego de pistas, de pensarle, de decifrar cosas
                        y es un juego en el que la única persona que puede completarlo eres tú, porque 
                        está diseñado para tí y con cosas que solo tú podrías decifrar.<br/><br/>
                        Las reglas son simples, escondí uno de tus regalos y debes completar el juego para saber
                        donde está 😈, el juego consta de 12 niveles, uno por cada mes que llevamos juntos,
                        durante estos niveles la idea es que vivas los 12 meses a través de mis ojos.
                        Cada nivel requiere una palabra, letra u oración para ser completado y en cada nivel hay pistas
                        con las cuales tú debes averiguar cual es la palabra, letra u oración que te llevará al siguiente
                        nivel. Asimismo, cada que completes un nivel se te dará una parte de una oración
                        las cuales pertenecen a la "Oración Final", son 12 partes que debes conseguir, una por cada
                        nivel, y al final al juntar las 12 partes formarás la "Oración Final" la cual es la que te
                        dice donde está tu regalo.<br/><br/>
                        Mucha suerte mi corazón de melón, Te amo ❤️<br/>
                        Atte. Tu novio bello, precioso, hermoso, guapo, fantástico yo😝

                    </p>
                </div>
                <hr class="linea-separadora">
                <div class="container">
                    <div class="d-flex justify-content-end">
                        <button type="button" class="btn btn-primary" onclick="avanzar(1)">Comenzar</button>
                    </div>
                </div>
                
            </div>
            <!--AGOSTO-->
            <div id="Agosto" class="contenido container" >
                <h3>Agosto - 08/2023</h3>
                <hr class="linea-separadora">
                <div class="grid-1col">
                    <div >
                        <p class="text-justify">
                            aaa
                        </p>
                        <button onclick="getLocation()">Obtener Ubicación</button>
                        <p id="location"></p>
                    </div>
                   
                        <img class="img-full-width" src="img/3.jpg"/>
                    </div>
                    
                </div>
                <hr class="linea-separadora">
                <div class="container">
                    <p style="font-weight: bold;">
                        Ingresa la palabra, letra u oración para avanzar al siguiente nivel  
                    </p>
                    <div class="d-flex justify-content-end">
                        <input type="text" class="form-control me-2 mr-2" id="resAgosto" placeholder="Introduce la palabra/letra/oración">
                        <button type="button" class="btn btn-primary" onclick="evaluarRespuesta()">Avanzar</button>
                    </div>
                </div>
            </div> 
            <!--SEPTIEMBRE-->
            <div id="Septiembre" class="contenido container" >
                <h3>Septiembre - 09/2023</h3>
                <hr class="linea-separadora">
                <div class="container">
                    <p class="text-justify">
                        
                    </p>
                </div>
                <hr class="linea-separadora">
                <div class="container">
                    <p style="font-weight: bold;">
                        Ingresa la palabra, letra u oración para avanzar al siguiente nivel  
                    </p>
                    <div class="d-flex justify-content-end">
                        <input type="text" class="form-control me-2 mr-2" id="resSeptiembre" placeholder="Introduce la palabra/letra/oración">
                        <button type="button" class="btn btn-primary" onclick="evaluarRespuesta()">Avanzar</button>
                    </div>
                </div>
            </div> 
            <!--OCTUBRE-->
            <div id="Octubre" class="contenido container" >
                <h3>Octubre - 10/2023</h3>
                <hr class="linea-separadora">
                <div class="container">
                    <p class="text-justify">
                        
                    </p>
                </div>
                <hr class="linea-separadora">
                <div class="container">
                    <p style="font-weight: bold;">
                        Ingresa la palabra, letra u oración para avanzar al siguiente nivel  
                    </p>
                    <div class="d-flex justify-content-end">
                        <input type="text" class="form-control me-2 mr-2" id="resOctubre" placeholder="Introduce la palabra/letra/oración">
                        <button type="button" class="btn btn-primary" onclick="evaluarRespuesta()">Avanzar</button>
                    </div>
                </div>
            </div> 
            <!--NOVIEMBRE-->
            <div id="Noviembre" class="contenido container" >
                <h3>Noviembre - 11/2023</h3>
                <hr class="linea-separadora">
                <div class="container">
                    <p class="text-justify">
                        
                    </p>
                </div>
                <hr class="linea-separadora">
                <div class="container">
                    <p style="font-weight: bold;">
                        Ingresa la palabra, letra u oración para avanzar al siguiente nivel  
                    </p>
                    <div class="d-flex justify-content-end">
                        <input type="text" class="form-control me-2 mr-2" id="resNoviembre" placeholder="Introduce la palabra/letra/oración">
                        <button type="button" class="btn btn-primary" onclick="evaluarRespuesta()">Avanzar</button>
                    </div>
                </div>
            </div> 
            <!--DICIEMBRE-->
            <div id="Diciembre" class="contenido container" >
                <h3>Diciembre - 12/2023</h3>
                <hr class="linea-separadora">
                <div class="container">
                    <p class="text-justify">
                        
                    </p>
                </div>
                <hr class="linea-separadora">
                <div class="container">
                    <p style="font-weight: bold;">
                        Ingresa la palabra, letra u oración para avanzar al siguiente nivel  
                    </p>
                    <div class="d-flex justify-content-end">
                        <input type="text" class="form-control me-2 mr-2" id="resDiciembre" placeholder="Introduce la palabra/letra/oración">
                        <button type="button" class="btn btn-primary" onclick="evaluarRespuesta()">Avanzar</button>
                    </div>
                </div>
            </div> 
            <!--ENERO-->
            <div id="Enero" class="contenido container" >
                <h3>Enero - 01/2024</h3>
                <hr class="linea-separadora">
                <div class="container">
                    <p class="text-justify">
                        
                    </p>
                </div>
                <hr class="linea-separadora">
                <div class="container">
                    <p style="font-weight: bold;">
                        Ingresa la palabra, letra u oración para avanzar al siguiente nivel  
                    </p>
                    <div class="d-flex justify-content-end">
                        <input type="text" class="form-control me-2 mr-2" id="resEnero" placeholder="Introduce la palabra/letra/oración">
                        <button type="button" class="btn btn-primary" onclick="evaluarRespuesta()">Avanzar</button>
                    </div>
                </div>
            </div> 
            <!--FEBRERO-->
            <div id="Febrero" class="contenido container" >
                <h3>Febrero - 02/2024</h3>
                <hr class="linea-separadora">
                <div class="container">
                    <p class="text-justify">
                        
                    </p>
                </div>
                <hr class="linea-separadora">
                <div class="container">
                    <p style="font-weight: bold;">
                        Ingresa la palabra, letra u oración para avanzar al siguiente nivel  
                    </p>
                    <div class="d-flex justify-content-end">
                        <input type="text" class="form-control me-2 mr-2" id="resFebrero" placeholder="Introduce la palabra/letra/oración">
                        <button type="button" class="btn btn-primary" onclick="evaluarRespuesta()">Avanzar</button>
                    </div>
                </div>
            </div> 
            <!--MARZO-->
            <div id="Marzo" class="contenido container" >
                <h3>Marzo - 03/2024</h3>
                <hr class="linea-separadora">
                <div class="container">
                    <p class="text-justify">
                        
                    </p>
                </div>
                <hr class="linea-separadora">
                <div class="container">
                    <p style="font-weight: bold;">
                        Ingresa la palabra, letra u oración para avanzar al siguiente nivel  
                    </p>
                    <div class="d-flex justify-content-end">
                        <input type="text" class="form-control me-2 mr-2" id="resMarzo" placeholder="Introduce la palabra/letra/oración">
                        <button type="button" class="btn btn-primary" onclick="evaluarRespuesta()">Avanzar</button>
                    </div>
                </div>
            </div> 
            <!--ABRIL-->
            <div id="Abril" class="contenido container" >
                <h3>Abril - 04/2024</h3>
                <hr class="linea-separadora">
                <div class="container">
                    <p class="text-justify">
                        
                    </p>
                </div>
                <hr class="linea-separadora">
                <div class="container">
                    <p style="font-weight: bold;">
                        Ingresa la palabra, letra u oración para avanzar al siguiente nivel  
                    </p>
                    <div class="d-flex justify-content-end">
                        <input type="text" class="form-control me-2 mr-2" id="resAbril" placeholder="Introduce la palabra/letra/oración">
                        <button type="button" class="btn btn-primary" onclick="evaluarRespuesta()">Avanzar</button>
                    </div>
                </div>
            </div> 
            <!--MAYO-->
            <div id="Mayo" class="contenido container" >
                <h3>Mayo - 05/2024</h3>
                <hr class="linea-separadora">
                <div class="container">
                    <p class="text-justify">
                        
                    </p>
                </div>
                <hr class="linea-separadora">
                <div class="container">
                    <p style="font-weight: bold;">
                        Ingresa la palabra, letra u oración para avanzar al siguiente nivel  
                    </p>
                    <div class="d-flex justify-content-end">
                        <input type="text" class="form-control me-2 mr-2" id="resMayo" placeholder="Introduce la palabra/letra/oración">
                        <button type="button" class="btn btn-primary" onclick="evaluarRespuesta()">Avanzar</button>
                    </div>
                </div>
            </div> 
            <!--JUNIO-->
            <div id="Junio" class="contenido container" >
                <h3>Junio - 06/2024</h3>
                <hr class="linea-separadora">
                <div class="container">
                    <p class="text-justify">
                        
                    </p>
                </div>
                <hr class="linea-separadora">
                <div class="container">
                    <p style="font-weight: bold;">
                        Ingresa la palabra, letra u oración para avanzar al siguiente nivel  
                    </p>
                    <div class="d-flex justify-content-end">
                        <input type="text" class="form-control me-2 mr-2" id="resJunio" placeholder="Introduce la palabra/letra/oración">
                        <button type="button" class="btn btn-primary" onclick="evaluarRespuesta()">Avanzar</button>
                    </div>
                </div>
            </div> 
            <!--JULIO-->
            <div id="Julio" class="contenido container" >
                <h3>Julio - 07/2024</h3>
                <hr class="linea-separadora">
                <div class="container">
                    <p class="text-justify">
                        
                    </p>
                </div>
                <hr class="linea-separadora">
                <div class="container">
                    <p style="font-weight: bold;">
                        Ingresa la palabra, letra u oración para avanzar al siguiente nivel  
                    </p>
                    <div class="d-flex justify-content-end">
                        <input type="text" class="form-control me-2 mr-2" id="resJulio" placeholder="Introduce la palabra/letra/oración">
                        <button type="button" class="btn btn-primary" onclick="evaluarRespuesta()">Avanzar</button>
                    </div>
                </div>
            </div> 
            <!--FINAL-->
            <div id="Final" class="contenido container" >
                <h3>I LOVE YOU</h3>
                <hr class="linea-separadora">
                <div class="container">
                    <p class="text-justify">
                        
                    </p>
                </div>
                <hr class="linea-separadora">
                <div class="container">
                    
                </div>
            </div> 
            
        </div>
        <div id="footer" class="footer text-center" >
            
            <div>Oración Final</div>
            <div id="lblPalabraActual"></div>
            <div class="row frase mt-5">
                <div class="col-1 mr-auto"><button class="btn-empty" id="1" onclick="controlFrase(this)">_____</button></div>
                <div class="col-1 mr-auto"><button class="btn-empty" id="2" onclick="controlFrase(this)">_____</button></div>
                <div class="col-1 mr-auto"><button class="btn-empty" id="3" onclick="controlFrase(this)">_____</button></div>
                <div class="col-1 mr-auto"><button class="btn-empty" id="4" onclick="controlFrase(this)">_____</button></div>
                <div class="col-1 mr-auto"><button class="btn-empty" id="5" onclick="controlFrase(this)">_____</button></div>
                <div class="col-1 mr-auto"><button class="btn-empty" id="6" onclick="controlFrase(this)">_____</button></div>
            </div>
            <div class="row frase mt-5"  >
                <div class="col-1 mr-auto "><button class="btn-empty" id="7" onclick="controlFrase(this)">_____</button></div>
                <div class="col-1 mr-auto "><button class="btn-empty" id="8" onclick="controlFrase(this)">_____</button></div>
                <div class="col-1 mr-auto "><button class="btn-empty" id="9" onclick="controlFrase(this)">_____</button></div>
                <div class="col-1 mr-auto "><button class="btn-empty" id="10" onclick="controlFrase(this)">_____</button></div>
                <div class="col-1 mr-auto "><button class="btn-empty" id="11" onclick="controlFrase(this)">_____</button></div>
                <div class="col-1 mr-auto "><button class="btn-empty" id="12" onclick="controlFrase(this)">_____</button></div>
            </div>
            <br/>
            <div>❤️❤️❤️ 02/08/2023 ❤️❤️❤️</div>

        </div>
        
        <!--Modal para iniciar-->
        <div id="modal-intro" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title">Antes de empezar</h2>
                    <span class="close" onclick="closeModal('modal-intro')">&times;</span>
                    
                </div>
                <div class="modal-body">
                    Antes de empezar a jugar asegurate de tener el albúm de fotografías que te dio tu novio y a tu novio a la mano.
                    <br/>
                    
                </div>
                <div class="modal-footer">
                    
                    <button type="button" class="btn btn-primary" onclick="closeModal('modal-intro')">Sí los tengo a la mano</button>
                </div>
            </div>
        </div>
        
        

        <script>
            // Declaración de variable global
            var globalAvance = 1;
            var espacios = 
            [
                '1',
                '2',
                '3',
                '4',
                '5',
                '6',
                '7',
                '8',
                '9',
                '10',
                '11',
                '12'
            ];
            var fraseFinal =
            [
                'buscando',
                'final',
                'estuvo',
                'es que',
                'que',
                'siempre',
                'Lo',
                'estuviste',
                'eso',
                'al',
                'mejor',
                'a tu lado'
            ];
            var nameInpt =
            [
                'resInicio',
                'resAgosto',
                'resSeptiembre',
                'resOctubre',
                'resNoviembre',
                'resDiciembre',
                'resEnero',
                'resFebrero',
                'resMarzo',
                'resAbril',
                'resMayo',
                'resJunio',
                'resJulio'
            ];
            var respuesta = {
                resAgosto: "CATALUNA",
                resSeptiembre: "CATALUNA",
                resOctubre: "CATALUNA",
                resNoviembre: "CATALUNA",
                resDiciembre: "CATALUNA",
                resEnero: "CATALUNA",
                resFebrero: "CATALUNA",
                resMarzo: "CATALUNA",
                resAbril: "CATALUNA",
                resMayo: "CATALUNA",
                resJunio: "CATALUNA",
                resJulio: "CATALUNA"
            };
            var objTitulo = document.getElementById("titulo");
            const meses = [
                'Inicio',
                'Agosto',
                'Septiembre',
                'Octubre',
                'Noviembre',
                'Diciembre',
                'Enero',
                'Febrero',
                'Marzo',
                'Abril',
                'Mayo',
                'Junio',
                'Julio',
                'Final'
            ];
            var palabraActual = "";
            
            //Función para controlar la frase 
            function controlFrase(obj)
            {
               
                var valorVacio = "_____"
                if(obj.innerHTML == valorVacio)
                {
                    if(palabraActual == "")
                    {
                        obj.blur();
                        return ;
                    }
                    obj.innerHTML = palabraActual;
                    palabraActual = "";
                    obj.blur();
                }else
                {
                    if(palabraActual == "")
                    {
                        palabraActual = obj.innerHTML;
                        obj.innerHTML = valorVacio;
                        obj.blur();
                    }else
                    {
                        var aux = "";
                        aux = palabraActual;
                        palabraActual = obj.innerHTML;
                        obj.innerHTML = aux;
                        obj.blur();
                    }
                }
                mostrarPalabraActual();

            }
            //Función para mostrar palabra actual
            function mostrarPalabraActual()
            {
                var obj = document.getElementById("lblPalabraActual");
                if(palabraActual != "")
                {
                    obj.innerHTML = 'Coloca: <strong style= "font-size: 1.2rem; color: orange;">' + palabraActual+'</strong>';
                }else
                {
                    obj.innerHTML = "";
                }
            }
            // Función para actualizar el juego mostrando todos los meses
            function actualizarJuego() {
                // Recorre el array de meses
                for (let i = 0; i < meses.length; i++) {
                    // Obtiene el elemento por su ID
                    const elemento = document.getElementById(meses[i]);
        
                    // Verifica si el elemento existe y luego ocúltalo
                    if (elemento) {
                        elemento.style.display = 'none';
                    }
                }
                const elementoActual = document.getElementById(meses[globalAvance]);
                
                if (elementoActual) 
                {
                    elementoActual.style.display = 'block';
                    objTitulo.innerHTML = meses[globalAvance];

                }
            }
            function evaluarRespuesta()
            {
                var objRes = document.getElementById(nameInpt[globalAvance]);
                if (objRes) 
                {
                    if(respuesta[nameInpt[globalAvance]] == objRes.value.toUpperCase())
                    {
                        globalAvance = globalAvance + 1;
                        avanzar(globalAvance);
                    }else
                    {
                        alert("La respuesta no es la correcta");
                        objRes.value = "";
                    }

                }
                
            }
            function avanzar(numero)
            {
                globalAvance = numero;
                //
                actualizarJuego();
                
            }
            // Función para abrir el modal
            function openModal(idModal) {
                var modal = document.getElementById(idModal);
                modal.classList.add("show");
            }
            // Función para cerrar el modal
            function closeModal(idModal) {
                var modal = document.getElementById(idModal);
                modal.classList.remove("show");
            }
            
            //FUNCION DE LOCALIZACIÓN
            //CASA 25.80331294454977 -100.37843517951954
            //Cataluna 25.66802870731342 -100.30630258981623
            //Bodeguita 25.79443048406677, -100.37665557760896
            const targetLat = 25.80331294454977;
            const targetLon = -100.37843517951954;
            

            function getLocation() 
            {
                if (navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition(showPosition, showError);
                } else {
                    document.getElementById("location").innerHTML = "La geolocalización no es soportada por este navegador.";
                }
            }

            function showPosition(position) {
                const latitude = position.coords.latitude;
                const longitude = position.coords.longitude;
                var objLocation = document.getElementById("location");

                if (isWithinRange(latitude, longitude, targetLat, targetLon)) 
                {
                    objLocation.innerHTML = "Perfecto, ya estamos en Cataluna";
                }else
                {
                    objLocation.innerHTML = "No te encuentras en Cataluna, dirigete a Cataluna para continuar";
                }
            }
            
            function isWithinRange(latitude1, longitude1, latitude2, longitude2) {
                unit = 'kilometers'
                let theta = longitude1 - longitude2;
                let distance = 60 * 1.1515 * (180/Math.PI) * Math.acos(
                    Math.sin(latitude1 * (Math.PI/180)) * Math.sin(latitude2 * (Math.PI/180)) + 
                    Math.cos(latitude1 * (Math.PI/180)) * Math.cos(latitude2 * (Math.PI/180)) * Math.cos(theta * (Math.PI/180))
                );
                var cantLejos = distance * 1.609344;
                
                if (cantLejos <= 0.3) {
                    return true;
                }
                return false;
            }

            function showError(error) 
            {
                switch(error.code) {
                    case error.PERMISSION_DENIED:
                        document.getElementById("location").innerHTML = "El usuario denegó la solicitud de geolocalización.";
                        break;
                    case error.POSITION_UNAVAILABLE:
                        document.getElementById("location").innerHTML = "La información de ubicación no está disponible.";
                        break;
                    case error.TIMEOUT:
                        document.getElementById("location").innerHTML = "La solicitud para obtener la ubicación ha caducado.";
                        break;
                    case error.UNKNOWN_ERROR:
                        document.getElementById("location").innerHTML = "Se ha producido un error desconocido.";
                        break;
                }
            }

            //Funcion cuando carga la página
            document.addEventListener("DOMContentLoaded", function() {
                //document.getElementById("title").textContent = "Aniversario";
                actualizarJuego();
                //openModal("modal-intro");//Habilitar en producción
            });
        </script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    </body>
</html>